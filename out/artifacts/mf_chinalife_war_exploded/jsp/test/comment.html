<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="../../css/bootstrap.css" rel="stylesheet" type="text/css"/>
    <link href="../../css/bootstrap-theme.css" rel="stylesheet" type="text/css"/>
    <script src="../../js/jquery-1.10.1.js" type="text/javascript"></script>
    <script src="../../js/bootstrap.js" type="text/javascript"></script>
    <script src="../../js/jquery.cookie.js" type="text/javascript"></script>
    <script src="../../js/jquery.validate.js" type="text/javascript"></script>
    <script src="../../js/holder.js" type="text/javascript"></script>
    <script src="../../js/jquery.tmpl.js"></script>
    <script type="application/javascript" language="JavaScript">
        $(function()
        {
            $(".action button[title='Approved']").click(function(e){
//              $("#userReply").show();
//              alert($(this).type);
//                alert(e.target.parentNode.html());
//                $(event.target.parents()).css("color","#FF3300");
//                alert($(event.target.html()));
//                alert($(event.target.parents(".list-group-item")).html());
//                alert(e.target.parents(".list-group-item"));
//                alert(e.target.parentNode);
                alert($("#ppp").parents("#divdiv").html());
            });
            /*点击回复按钮，调用ajax，数据库插入回复评论，同时前端动态增加数据*/
            $("#btnReply").click(function(e){
                var title = $("#title").val();
                var content = $("#content").val();
                var comments = [
                    { id: "1", Pic: "../../img/default_img.jpg", Title: title, Name: "Bhaumik Patel", Time: "on 2 Aug 2013", Comment: content}
                ];
//                $("#commentTemplate").tmpl(comments).appendTo("#commentList");
                $("#modal-container-492355").modal("toggle");
                $("#commentTemplate").tmpl(comments).insertBefore("#commentList");
            })

        })
    </script>
    <style type="text/css">
        .widget .panel-body {
            padding: 0;
        }
        .widget .list-group {
            margin-bottom: 0;
        }
        .widget .panel-title {
            display: inline;
        }
        .widget .label-info {
            float: right;
        }
        .widget li.list-group-item {
            -moz-border-bottom-colors: none;
            -moz-border-left-colors: none;
            -moz-border-right-colors: none;
            -moz-border-top-colors: none;
            border-color: #DDDDDD -moz-use-text-color -moz-use-text-color;
            border-image: none;
            border-radius: 0;
            border-right: 0 none;
            border-style: solid none none;
            border-width: 1px 0 0;
        }
        .widget li.list-group-item:hover {
            background-color: rgba(86, 61, 124, 0.1);
        }
        .widget .mic-info {
            color: #666666;
            font-size: 11px;
        }
        .widget .action {
            margin-top: 5px;
        }
        .widget .comment-text {
            font-size: 12px;
        }
        .widget .btn-block {
            border-top-left-radius: 0;
            border-top-right-radius: 0;
        }
    </style>
</head>
<body>
<div class="container">
    <div class="row">
        <div class="panel panel-default widget">
            <div class="panel-heading">
                <span class="glyphicon glyphicon-comment"></span>
                <h3 class="panel-title"> Recent Comments</h3>
                <span class="label label-info"> 78</span>
            </div>
            <div class="panel-body">
                <ul class="list-group" id="commentList">
                </ul>
            </div>
        </div>
    </div>
</div>
<script id="commentTemplate" type="text/x-jquery-tmpl">
	<li class="list-group-item">
        <div class="row">
            <div class="col-xs-2 col-md-1">
                <img class="img-circle img-responsive" alt="" src="${Pic}">
            </div>
            <div class="col-xs-9 col-md-10">
                <div>
                    <a href="">${Title}</a>
                    <div class="mic-info">
                        By:
                        <a href="#">${Name}</a>
                        ${Time}
                    </div>
                </div>
                <div class="comment-text">${Comment}</div>
            </div>
            <div class="col-xs-1 col-md-1">
                 <div class="action">
                    <button class="btn btn-primary btn-xs" title="Edit" type="button" data-target="#modal-container-492355" data-toggle="modal">
                        <span class="glyphicon glyphicon-pencil"></span>
                    </button>
                    <button class="btn btn-danger btn-xs" title="Delete" type="button">
                        <span class="glyphicon glyphicon-trash"></span>
                    </button>
                </div>
            </div>
        </div>
    </li>
</script>
<div class="modal fade" id="modal-container-492355" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 class="modal-title" id="myModalLabel">
                    发表回复
                </h4>
            </div>
            <div class="modal-body">
                <form role="form">
                    <div class="form-group">
                        <input class="form-control" id="title" type="text" placeholder="请输入标题"/>
                    </div>
                    <div class="form-group">
                        <textarea class="form-group" id="content" placeholder="请输入评论 不超过140个字符"
                                  rows="3" cols="90"></textarea>
                    </div>
                    <button type="button" class="btn btn-success" id="btnReply">回复</button>
                </form>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    var comments = [
        { id: "1", Pic: "../../img/default_img.jpg", Title: "Google Style Login Page Design Using Bootstrap", Name: "Bhaumik Patel", Time: "on 2 Aug 2013", Comment: " Awesome design"},
        { id: "2",Pic: "../../img/default_img.jpg", Title: "Google Style Login Page Design Using Bootstrap", Name: "Bhaumik Patel", Time: "on 2 Aug 2013", Comment: " Awesome design"},
        { id: "3",Pic: "../../img/default_img.jpg", Title: "Google Style Login Page Design Using Bootstrap", Name: "Bhaumik Patel", Time: "on 2 Aug 2013", Comment: " Awesome design"}
    ];
    $("#commentTemplate").tmpl(comments).appendTo("#commentList");
</script>
</body>
</html>