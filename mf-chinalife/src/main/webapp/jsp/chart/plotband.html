<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="../../css/bootstrap.css" rel="stylesheet" type="text/css"/>
    <link href="../../css/starrr.css" rel="stylesheet" type="text/css"/>
    <!--<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css">-->
    <!--<link href="../../css/bootstrap-theme.css" rel="stylesheet" type="text/css"/>-->
    <script src="../../js/jquery-1.10.1.js" type="text/javascript"></script>
    <script src="../../js/bootstrap.js" type="text/javascript"></script>
    <script src="../../js/highcharts.src.js" type="text/javascript"></script>
    <script src="../../js/exporting.src.js" type="text/javascript"></script>
    <script src="../../js/starrr.js" type="text/javascript"></script>

    <script language="javascript">
        var data_1 = [{y:7.0,p:3}, {y:6.9,p:4},{y:9.5,p:4}, {y:14.5,p:4}, {y:18.2,p:4}, {y:21.5,p:4}, {y:25.2,p:4}, { y: 26.5,p:4, marker: { symbol: 'url(../../img/sun.png)' } }, {y:23.3,p:4}, {y:18.3,p:4},{y:13.9,p:4}, {y:9.6,p:4,p:4}];
        var data_2 = [{ y: 3.9, p:3, marker: { symbol: 'url(/demo/img/snow.png)' } }, {y:4.2,p:4},{y:5.7,p:4} ,{y:8.5,p:4}, {y:11.9,p:4}, {y:15.2,p:4}, {y:17.0,p:4}, {y:16.6,p:4}, {y:14.2,p:4}, {y:10.3,p:4}, {y:6.6,p:4}, {y:4.8,p:4}];
        $(function () {
            var chart;

            $("#btnTest").click(function(e){
                alert("btnTest");
            });
            $("#test").click(function(e){
                alert("cc");
            });
            var options ={
                chart: {
                    renderTo:'container',
                    type: 'spline'
                },
                title: {
                    text: 'Monthly Average Temperature'
                },
                subtitle: {
                    text: 'Source: WorldClimate.com'
                },
                xAxis: {
                    plotBands: [{ // mark the weekend
                        color: '#FCFFC5',
                        from: Date.UTC(2010, 0, 2),
                        to: Date.UTC(2010, 0, 4),
                        events: {
                        },
                        label: {
                            text: '<button class="btn btn-success" id="test1">Test1</button>',
                            style: {
                                color: 'blue',
                                fontWeight: 'bold'
                            },
                            useHTML: true
                        }
                    },
                        { // mark the weekend
                            color: '#FBFFC3',
                            from: Date.UTC(2010, 0, 6),
                            to: Date.UTC(2010, 0, 8),
                            events: {
                            },
                            label: {
                                text: '<button class="btn btn-success" id="test2">Test2</button>',
                                useHTML: true
                            }
                        }],
                    tickInterval: 24 * 3600 * 1000, // one day
                    type: 'datetime'
                },

                yAxis: {
                    title: { text: 'Temperature' },
                    labels: {
                        formatter: function() {
                            return this.value +'°'
                        }
                    } },
                tooltip:{
//                    formatter:function(){
//                        return '<b>' + this.series.name + '</b>: y=' + this.y + ', extra='+this.point.p;
//                    }
                    shared : true
                },
                plotOptions: {
                    spline: {
                        marker: {
                            radius: 4,
                            lineColor: '#666666',
                            lineWidth: 1
                        } },
                    series : {
                        events:{

                        }
                    }
                },
                series: [{
                    data: [29.9, 71.5, 56.4, 69.2, 144.0, 176.0, 135.6, 148.5, 216.4],
                    pointStart: Date.UTC(2010, 0, 1),
                    pointInterval: 24 * 3600 * 1000
                }]
            };
/*            $("#test1").click(function (e){
                alert("test");
            });
            for(var w=1; w<3;w++){
                var temp = '"#test"';
                if(w == 1){
                    $("#test1").click( w, function (e){
                        alert("test" + w);
                    });
                }
                if(w == 2){
                    $("#test2").click(w, function (e){
                        alert("test" + w);
                    });
                }

*//*                options.xAxis.plotBands[w].events.click = function(e){
                    alert("first:" + w);
                    alert(e.target + " " + this.label.text);
                };*//*
            }*/
            var cc = 1;
            var bb  = 2;
//            alert(options.xAxis.plotBands[0].events.attachEvent);

                chart = new Highcharts.Chart(options);

            $("#test1").click(function (e){
                alert(e.target.text);
            });
            $("#aText").click(function (e){
                alert("aText");
            });
            $("#aTextcc").click(function (e){
                alert("aTextcc");
            });
            $(".btn.btn-success").each(function(index,element){
               alert(index + " " + element.id);
            });
            var longTime = 1412274060000;
            alert(getFormatTime(longTime));
        });
        //根据毫秒数获得指定格式时间 2014-9-4 08:00
        function getFormatTime(longTime){
            alert(longTime);
            var returnFormatTime = "";
            var currentTime = new Date(longTime);
            alert("currentTime:" + currentTime)
            var years = currentTime.getUTCFullYear();
            var months = currentTime.getUTCMonth();
            months = months + 1;
            var days = currentTime.getUTCDate();
            var minutes = currentTime.getUTCMinutes();
            var hours = currentTime.getUTCHours();
            if(minutes<=9){
                minutes="0"+minutes;
            }
            if(hours<=9){
                hours="0"+hours;
            }
            returnFormatTime = years + "-" + months + "-" + days + " " + hours +":" + minutes;
            return returnFormatTime;
        }

    </script>
</head>
<body>
<!--<a id="aTextcc">Launch demo modal</a>
<ul id="list">
    <li>1</li>
    <li>2</li>
    <li>3</li>
    <li>4</li>
    <li>5</li>
</ul>
<script>
    var list_obj = document.getElementsByTagName('li');
    for (var i = 0; i <= list_obj.length; i++) {
        (function(){
            var p = i
            list_obj[i].onclick = function() {
                alert(p);
            }
        })();
    }
</script>-->
<div id="container" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
<div id="myShow" style="display:none;">
    <img alt="loading" src="../../img/loading.gif" />
</div>
<div id="result"></div>
<button type="button" id="btnTest" class="btn btn-primary">test</button>
<button class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
    Launch demo modal
</button>

<a class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
    Launch demo modal
</a>
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="myModalLabel">
                    <label id="breakDayInfo"></label> 添加异常信息
                </h4>
            </div>
            <div class="modal-body">
                <form action="" class="form-horizontal" id="formBreakdown" method="post"  role="form">
                    <fieldset>
                        <div class="form-group">
                            <label for="breakStartTime" class="col-md-3 control-label">Start Time</label>
                            <div class="col-md-6">
                                <input class="form-control" id="breakStartTime" name="breakStartTime" type="text" value="2014-10-30 12:00" readonly/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="endTime" class="col-md-3 control-label">End Time</label>
                            <div class="col-md-9">
                                <div class="input-group date form_time col-md-6" id="timePicker"
                                     data-date="" data-date-format="yyyy-mm-dd hh:ii"
                                     data-link-field="breakEndTime" data-link-format="yyyy-mm-dd hh:ii">
                                    <input class="form-control" size="50" type="text" value="" id="endTime">
                                    <span class="input-group-addon"><span class="glyphicon glyphicon-time"></span></span>
                                </div>
                                <input type="hidden" id="breakEndTime" value=""  name="breakEndTime"/>
                                <input type="hidden" id="breakNO" value=""  name="breakNO"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="duration" class="col-md-3 control-label">Duration</label>
                            <div class="col-md-6">
                                <input class="form-control" id="duration" name="duration" type="text" disabled/>
                                <!--                                <label id="durationMM" ></label> MM
                                                                &nbsp;&nbsp;&nbsp;
                                                                <label id="durationHH"></label> HH-->
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="breakLevel" class="col-md-3 control-label">Level</label>
                            <div class="col-md-6">
                                <div class='starrr' id="starBreakLevel" data-numstars='5' data-connected-input='rating'></div>
                            </div>
                            <input type='hidden' name='breakLevel' id="breakLevel" value='3' />
                        </div>
                        <div class="form-group">
                            <label class="col-md-3 control-label">Type</label>
                            <div class="col-md-6 controls">
                                <select id="breakType" name="breakType" class="form-control">
                                    <option value="">请选择</option>
                                    <option value="1">设备故障</option>
                                    <option value="2">物料短缺</option>
                                    <option value="3">其他</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-3 control-label" for="breakReason">Reason</label>
                            <div class="col-md-9 controls">
                                <input placeholder="Reason for Breakdown" class="form-control" id="breakReason" type="text"
                                       name="breakReason" maxlength="50">
                            </div>
                        </div>
                    </fieldset>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal" id="btnClose">Close</button>
                <button type="button" class="btn btn-default" id="btnSubmit" name="btnSubmit">Submit</button>
            </div>
        </div>
    </div>
</div>
</body>
</html>